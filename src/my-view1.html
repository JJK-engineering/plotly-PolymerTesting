<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
   -->

<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="shared-styles.html">
<link rel="import" href="../bower_components/plotly-plot/plotly-plot.html">

<dom-module id="my-view1">
    <template>
	<style include="shared-styles">
	    :host {
	    display: block;
	    padding: 10px;
	    }
	    <!--plotly-polymer-fix  -> moved to shared-styles.html -->
	</style>

	<div class="card">
	    <h1>Plotly.js Working</h1>
	    <div id="plot">
	    </div>
	</div> 

    </template>

    <script>
     class MyView1 extends Polymer.Element {
	 static get is() { return 'my-view1'; }
	 ready() {
	     super.ready();

	     var trace1 = {
		 x: ['Feature A', 'Feature B', 'Feature C', 'Feature D', 'Feature E'],
		 y: [20, 14, 23, 25, 22],
		 marker:{
		     color: ['rgba(204,204,204,1)', 'rgba(222,45,38,0.8)', 'rgba(204,204,204,1)',
			     'rgba(204,204,204,1)', 'rgba(204,204,204,1)']
		 },
		 type: 'bar'
	     };
	     var data = [trace1];
	     var layout = {
		 title: 'Least Used Feature'
	     };
//	     Plotly.newPlot(this.$.plot, data, layout);
	     //Plotly.update(this.shadowRoot.querySelector('plotly-plot'), data, layout);
	       //Uncaught TypeError: Cannot read property '0' of undefined
             //this.$.pp.update(data, layout);  //Uncaught TypeError: this.$.pp.update is not a function

	     var data2 = [{
		 x: [1, 2, 3, 4],
		 y: [3, 4, 5, 6],
		 mode: 'lines+markers',
		 type: 'scatter',
	     }];
	     var layout2 = {
		 title: 'Third Line and Scatter Plot',
		 height: 400,
		 width: 480
	     };
	     console.log(data2);
	     console.log(layout2);
	     Plotly.newPlot(this.$.plot, data2, layout2);
	     
	 }
     }
     window.customElements.define(MyView1.is, MyView1);
    </script>
</dom-module>
